<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons"><title data-react-helmet="true">Android development | IOTA Wallet Library</title><meta data-react-helmet="true" property="og:url" content="https://wallet-lib.docs.iota.org//docs/libraries/java/android_development"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Android development | IOTA Wallet Library"><meta data-react-helmet="true" name="description" content="Official IOTA Wallet Library Java API reference."><meta data-react-helmet="true" property="og:description" content="Official IOTA Wallet Library Java API reference."><meta data-react-helmet="true" name="keywords" content="api,Java,android,cross,compile"><meta data-react-helmet="true" property="og:image" content="https://wallet-lib.docs.iota.org//img/logo/iota_mark_light.png"><meta data-react-helmet="true" name="twitter:image" content="https://wallet-lib.docs.iota.org//img/logo/iota_mark_light.png"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://wallet-lib.docs.iota.org//docs/libraries/java/android_development"><link data-react-helmet="true" rel="alternate" href="https://wallet-lib.docs.iota.org//docs/libraries/java/android_development" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://wallet-lib.docs.iota.org//docs/libraries/java/android_development" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a1d0bb05.css">
<link rel="preload" href="/assets/js/runtime~main.18399bbe.js" as="script">
<link rel="preload" href="/assets/js/main.018007a1.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo/Logo_Swirl_Dark.png" alt="IOTA" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo/Logo_Swirl_Dark.png" alt="IOTA" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Wallet.rs</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/welcome">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/iotaledger/wallet.rs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--checked react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/welcome">Welcome</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Libraries</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/libraries/overview">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Rust</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Node.js</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Python</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Java</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/libraries/java/getting_started">Getting Started</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/libraries/java/android_development">Android</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/libraries/java/examples">Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/libraries/java/api_reference">API Reference</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/specification">Specification</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/troubleshooting">Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/contribute">Contribute</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Android development</h1></header><p>Android development requires a more specific environment setup. In this tutorial we will guide you through the various ways to build an APK with <code>wallet.rs</code> capabilities.</p><p>The first part of this tutorial shows you how to install the required tools for building an apk. Scroll <a href="#using-pre-generated-binaries">down</a> for a guide using the precompiled binaries found on our release page <a href="https://github.com/iotaledger/wallet.rs/releases" target="_blank" rel="noopener noreferrer">here</a>. The Java releases are tagged with <code>android-binding-vX.Y.Z</code>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Since Android development mainly uses Gradle, we will use that for this tutorial</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setup-by-compiling"></a>Setup by compiling<a class="hash-link" href="#setup-by-compiling" title="Direct link to heading">#</a></h2><p>Compiling an Android app comes with the added task of building for multiple different device architectures.
In this tutorial we mention the following 2 variables:
<code>$ARCH</code> and <code>$TARGET</code>.</p><p>These variables are used to generate correct binaries during cross compilation and linking.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="list-of-target-devices"></a>List of target Devices<a class="hash-link" href="#list-of-target-devices" title="Direct link to heading">#</a></h4><p><code>$ARCH</code> and -&gt; <code>$TARGET</code> related to each other in the following manner: </p><ul><li><code>armeabi-v7a</code> -&gt; <code>armv7-linux-androideabi</code></li><li><code>arm64-v8a</code> -&gt; <code>aarch64-linux-android</code></li><li><code>x86</code> -&gt; <code>i686-linux-android</code></li><li><code>x86_64</code> -&gt; <code>x86_64-linux-android</code></li></ul><p>When building an app, you as a developer must decide for how many architectures you make an APK for. Binaries need to be generated for each architecture.</p><p>The android-app example has a <a target="_blank" href="/assets/files/build-2b1cfe624976279522cc9c34581b1321.gradle">build.gradle</a> file that shows the enabled list in a variable called <code>archTriplets</code>. You can disable and enable them, as long as you have at least one. (This file will also automatically compile our binaries when we run gradle. Feel free to use it in your project!)</p><p>We will use <code>archTriplets</code> for the enabled list of device targets during this tutorial.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="prerequisite"></a>Prerequisite<a class="hash-link" href="#prerequisite" title="Direct link to heading">#</a></h2><ul><li>Dependencies indicated in the <a href="/docs/libraries/java/getting_started">Getting started</a> Prerequisite section</li><li>Android NDK or Android Studio with NDK installed (If you extract make sure to make it executable <code>chmod -R +x android-ndk-VERSION</code> )</li></ul><p>In order to cross compile the binaries for Android; we need the following target toolchains: (Or all of the enabled <code>archTriplets</code>) </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">rustup target add \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    armv7-linux-androideabi \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    aarch64-linux-android \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    i686-linux-android \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    x86_64-linux-android</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>For this setup we use <code>$ANDROID_NDK_HOME</code> for the location of your NDK, wether you use Android studio or manual compilation</p><ol><li>set <code>ANDROID_NDK_HOME</code> environment variable</li></ol><p>Example: <code>export ANDROID_NDK_HOME=$ANDROID_HOME/ndk/{A_VERSION_NUMBER}</code></p><p>If you dont have <code>ANDROID_HOME</code>; Usually found at <code>/home/user/Android</code>. Make sure you have installed Android correctly.
Attempt to run <code>android</code> on your terminal. If this command does not open the Android SDK Manager, then your path is not configured correctly.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-generating-the-java-files"></a>1. Generating the java files<a class="hash-link" href="#1-generating-the-java-files" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="11-compiling-a-binary"></a>1.1 Compiling a binary<a class="hash-link" href="#11-compiling-a-binary" title="Direct link to heading">#</a></h3><p>In order to generate the Java source files; we need to run cargo manually once. </p><p>This step will require you to run <code>cargo build --release</code> in <code>wallet.rs/bindings/java</code>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>This step is simplifying the process by running an unnecesary build (We compile here for our current system). If you have a working environment already, you can run cargo with a <code>--target=$TARGET</code> to save time later on.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="12-creating-the-jar"></a>1.2 Creating the jar<a class="hash-link" href="#12-creating-the-jar" title="Direct link to heading">#</a></h3><p>Afterwards, you need to run <code>./gradlew jar</code> in <code>wallet.rs/bindings/java</code> in order to generate the jar file.</p><p>The jar will be found at <code>wallet.rs/bindings/java/native/build/libs/native.jar</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-build-the-app"></a>2. Build the app<a class="hash-link" href="#2-build-the-app" title="Direct link to heading">#</a></h2><p>Building the actual app can be done through two different ways. Using Android Studio and by manual linking. </p><p>The following 2 Sections describe both methods. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="cross-compile-note"></a>Cross compile note<a class="hash-link" href="#cross-compile-note" title="Direct link to heading">#</a></h4><p>In order to build on windows, we need to add android triplets to our VCPKG and use that during compilation.
[TODO]</p><p>Currently cross compiling has only worked on WSL/Linux.
If you wish to use Android Studio in Windows, first make the android target binaries in WSL/Linux, then copy them over to <code>src/main/jniLibs/$TARGET/</code>. (See step <a href="#Adding%20shared%20library">Compiling a binary</a>, but do that for each enabled target in WSL/Linux)</p><p>Afterwards you need to comment out all <code>archTriplets</code> in <code>build.gradle</code> in order for you not to regenerate them (and fail on Windows).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="21-android-studio"></a>2.1 Android studio<a class="hash-link" href="#21-android-studio" title="Direct link to heading">#</a></h3><p>Load the project under the <code>wallet.rs/bindings/java</code> folder in Android studio.</p><p>Make sure you have an NDK and SDK: <code>file-&gt;Project Structure-&gt;SDK Location</code>. If the NDK location is marked grey, edit the <code>local.properties</code> like so: (This must be the location of <code>$ANDROID_NDK_HOME</code>, which still needs to be on your path)</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ndk.dir=I\:\\Path\\To\\AndroidSDK\\ndk\\VERSION</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If youre on linux/wsl, just run the app. On other platforms see the <code>Setup/Cross compile note</code> before running.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="22-manual-linking"></a>2.2 Manual linking<a class="hash-link" href="#22-manual-linking" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="preparing-your-terminalenvironment"></a>Preparing your terminal/environment<a class="hash-link" href="#preparing-your-terminalenvironment" title="Direct link to heading">#</a></h4><p>Add the standalone toolchain to the search path.</p><p>Example: <code>export PATH=$PATH:$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/{OS}/bin</code></p><p>Replace <code>{OS}</code> with your OS name; on Linux this would be called <code>linux-x86_64</code>, windows <code>windows-x86_64</code> (<code>x86_64</code>depening on architecture type)</p><p>These toolchains can alternatively be prepended to the cargo command as well, but we wont discuss that in this tutorial.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setting-cargo-config"></a>Setting Cargo config<a class="hash-link" href="#setting-cargo-config" title="Direct link to heading">#</a></h4><p>In order to compile the binaries for the various Android targets, we need to specify the targets to rust.</p><p>Create or update the following file: <code>~/.cargo/config</code>.
Replace each instance of <code>$ANDROID_NDK_HOME</code> with the actual location (variables do not work) and add the text below to the config file.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[target.armv7-linux-androideabi]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">linker = &quot;$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/linux-x86_64/bin/armv7a-linux-androideabi21-clang&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ar = &quot;$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/linux-x86_64/bin/arm-linux-androideabi-ar&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[target.aarch64-linux-android]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">linker = &quot;$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android21-clang&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ar = &quot;$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android-ar&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[target.i686-linux-android]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">linker = &quot;$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/linux-x86_64/bin/i686-linux-android21-clang&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ar = &quot;$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/linux-x86_64/bin/i686-linux-android-ar&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[target.x86_64-linux-android]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">linker = &quot;$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/linux-x86_64/bin/x86_64-linux-android21-clang&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ar = &quot;$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/linux-x86_64/bin/x86_64-linux-android-ar&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="generating-the-binaries"></a>Generating the binaries<a class="hash-link" href="#generating-the-binaries" title="Direct link to heading">#</a></h4><p>Now we need to generate binaries for all the enabled targets inside your <code>build.gradle</code> <code>archTriplets</code>.
The easiest way is to use the gradle build system. Using the <code>build.gradle</code> inside <code>examples/android-app</code>, we automatically build all enabled targets after running the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd wallet.rs/bindings/java</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./gradlew build</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Alternatively, you can also manually run the commands; </p><ol><li>Compile the binaries for the target </li></ol><p>Example: <code>cargo build --target aarch64-linux-android --release</code></p><ol start="2"><li>Adding shared library</li></ol><blockquote><p>Copy <code>$ANDROID_NDK_HOME/sources/cxx-stl/llvm-libc++/libs/$ARCH/libc++_shared.so</code> to <code>src/main/libs/$ARCH/</code></p></blockquote><p>Example: <code>cp $ANDROID_NDK_HOME/sources/cxx-stl/llvm-libc++/libs/arm64-v8a/libc++_shared.so examples/android-app/src/main/libs/arm64-v8a</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="building-your-app"></a>Building your app<a class="hash-link" href="#building-your-app" title="Direct link to heading">#</a></h4><p>Assemble your android app with gradle using:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd wallet.rs/bindings/java</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./gradlew aR</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="signing-your-app"></a>Signing your app<a class="hash-link" href="#signing-your-app" title="Direct link to heading">#</a></h4><ol><li><p>prepare a signing keystore; we will call it <code>signed_ks.jks</code></p><blockquote><p>How to make: <a href="https://developer.android.com/studio/publish/app-signing#generate-key" target="_blank" rel="noopener noreferrer">https://developer.android.com/studio/publish/app-signing#generate-key</a></p></blockquote></li><li><p>Sign the apk</p></li></ol><blockquote><p><code>$ANDROID_HOME/build-tools/{VERSION}/apksigner sign --ks examples/android-app/signed_ks.jks --out examples/android-app/android-app-release-signed.apk -v examples/android-app/build/outputs/apk/release/android-app-release-unsigned.apk</code></p></blockquote><ol start="3"><li>Connect device <blockquote><p><a href="https://developer.android.com/studio/command-line/adb#connect-to-a-device-over-wi-fi-android-11+" target="_blank" rel="noopener noreferrer">https://developer.android.com/studio/command-line/adb#connect-to-a-device-over-wi-fi-android-11+</a></p></blockquote></li></ol><p>For example:</p><ul><li><code>adb pair 192.168.0.x:x</code> </li><li><code>adb connect 192.168.0.x:x</code></li><li><code>adb install -r --fastdeploy examples/android-app/android-app-release-signed.apk</code></li><li><code>adb shell am monitor</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-pre-generated-binaries"></a>Using pre-generated binaries<a class="hash-link" href="#using-pre-generated-binaries" title="Direct link to heading">#</a></h2><p>It is very likely you dont want or need to compile by yourself. That is why we provide precompiled binaries found on our release page <a href="https://github.com/iotaledger/wallet.rs/releases" target="_blank" rel="noopener noreferrer">here</a>. The Java releases are tagged with <code>android-binding-vX.Y.Z</code>. </p><p>Install the files attached to the release so that you achieve the following directory structure: (extract the <code>jniLibs.zip</code> into <code>root_app/src/main/</code>)</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">root_app/src/main/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  libs/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    native.jar</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  jniLibs/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    arm64-v8a/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      libc++_shared.so</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      libiota_wallet_java.so</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    armeabi-v7a/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      libc++_shared.so</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      libiota_wallet_java.so</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    x86/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      libc++_shared.so</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      libiota_wallet_java.so</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    x86_64/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      libc++_shared.so</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      libiota_wallet_java.so</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="android-studio"></a>Android studio<a class="hash-link" href="#android-studio" title="Direct link to heading">#</a></h3><p>Then using Android Studio, add the native.jar to your project by right clicking -&gt; Add As Library... -&gt; Select your Android app Module and press OK.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="manual"></a>Manual<a class="hash-link" href="#manual" title="Direct link to heading">#</a></h3><p>Add the jar to your <code>build.gradle</code> dependencies section using; for example: <code>implementation files(&#x27;src\\main\\libs\\native.jar&#x27;)</code></p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>When trying to build the <code>android-app</code> example in the repository with precompiled binaries, comment out all the <code>archTriplets</code> inside <code>wallet.rs/bindings/java/examples/android-app/build.gradle</code>. (Otherwise you will try to regenerate the <code>.so</code> files)</p></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/iotaledger/wallet.rs/tree/dev/documentation/docs/libraries/java/android_development.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/libraries/java/getting_started"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Getting Started with Java</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/libraries/java/examples"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Examples Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setup-by-compiling" class="table-of-contents__link">Setup by compiling</a></li><li><a href="#prerequisite" class="table-of-contents__link">Prerequisite</a></li><li><a href="#1-generating-the-java-files" class="table-of-contents__link">1. Generating the java files</a><ul><li><a href="#11-compiling-a-binary" class="table-of-contents__link">1.1 Compiling a binary</a></li><li><a href="#12-creating-the-jar" class="table-of-contents__link">1.2 Creating the jar</a></li></ul></li><li><a href="#2-build-the-app" class="table-of-contents__link">2. Build the app</a><ul><li><a href="#21-android-studio" class="table-of-contents__link">2.1 Android studio</a></li><li><a href="#22-manual-linking" class="table-of-contents__link">2.2 Manual linking</a></li></ul></li><li><a href="#using-pre-generated-binaries" class="table-of-contents__link">Using pre-generated binaries</a><ul><li><a href="#android-studio" class="table-of-contents__link">Android studio</a></li><li><a href="#manual" class="table-of-contents__link">Manual</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/welcome">Welcome</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/libraries/overview">Libraries</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/specification">Specification</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contribute">Contribute</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/iotaledger/wallet.rs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 IOTA Foundation, Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.18399bbe.js"></script>
<script src="/assets/js/main.018007a1.js"></script>
</body>
</html>